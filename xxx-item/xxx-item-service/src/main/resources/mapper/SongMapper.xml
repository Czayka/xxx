<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xxx.mapper.SongMapper">
    <select id="getSongVoBySearch" resultType="com.xxx.item.vo.SongVo" parameterType="string">
        SELECT ts.id, ts.albumId, ts.`name`, ts.songUrl, ts.lyricsUrl, ta.albumName, ta.singerName
            FROM tb_songs ts left JOIN tb_album ta ON ts.albumId = ta.id
                <if test="param2 != null and param2 != ''"  >
                    where ts.`name` like CONCAT('%',#{param2},'%' )
                    or ta.albumName like CONCAT('%',#{param2},'%' )
                    or ta.singerName like CONCAT('%',#{param2},'%' )
                </if>

    </select>
</mapper>